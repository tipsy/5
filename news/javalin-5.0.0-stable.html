<!DOCTYPE html>
<html lang="en">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-54137818-11"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-54137818-11', {'anonymize_ip': true});
</script>
    <meta charset="utf-8">
    <link href="https://fonts.googleapis.com/css?family=Oxygen+Mono|Roboto+Slab:500,700&display=swap" rel="stylesheet">
    <meta property="og:title" content="Javalin 5.0 stable is ready! - Javalin - A lightweight Java and Kotlin web framework. Create REST APIs in Java or Kotlin easily.">
    <meta property="og:site_name" content="Javalin">
    <meta property="og:url" content="https://javalin.io">
    <meta property="og:description" content="ForewordJavalin is a Java and Kotlin web framework which focuses on simplicity and Java/Kotlin interoperability.It supports WebSockets and HTTP3, and it uses...">
    <meta property="og:image" content="https://javalin.io/img/javalin.png">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="google-site-verification" content="liMtSlffOZROWLqoiOZdSx-luH9_Siq5-Ot6xqHZwq8">
    <title>
        Javalin 5.0 stable is ready! - Javalin - A lightweight Java and Kotlin web framework
    </title>
    <meta name="description" content="ForewordJavalin is a Java and Kotlin web framework which focuses on simplicity and Java/Kotlin interoperability.It supports WebSockets and HTTP3, and it uses...">
    <link rel="canonical" href="https://zugazagoitia.github.io/news/javalin-5.0.0-stable.html">
    <link rel="shortcut icon" type="image/png" href="/img/favicon.png">
    <link rel="stylesheet" href="/css/main.css">
    <style>/* Styles that affect the length of the document */
p code,
li code {
    font-size: 90%;
    letter-spacing: -0.5px;
    border: 1px solid #ccd;
    background: #f5f5f7;
    padding: 1px 3px;
}

.multitab-code pre {
    margin-top: 0;
    border-radius: 0 0 5px 5px;
}

.multitab-code div[data-tab] {
    display: none;
}

:target {
    scroll-margin-top: 108px;
}

.anchorjs-link {
    transition: all .25s linear;
  }
  
*:hover > .anchorjs-link {
    margin-left: -1.125em !important;
 }</style>
</head>
<body>
    <a id="fork-me" href="https://github.com/javalin/javalin" target="_blank">
    <img style="position:fixed;top:0;right:0;border:0;z-index:99999" src="data:image/png;base64,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" alt="Fork me on GitHub">
</a>
    <header class="top-nav-header">
        <nav class="width-limit">
            <a id="logo" href="/" aria-label="Javalin">
                <img src="/img/logo.svg" alt="Javalin">
            </a>
            <ul>
                <li><a href="/documentation">Docs</a></li>
                <li><a href="/tutorials">Tutorials</a></li>
                <li><a href="/plugins">Plugins</a></li>
                <li><a href="/community">Community</a></li>
            </ul>
        </nav>
    </header>
    <main class="width-limit">
        <article class="news" itemscope itemtype="http://schema.org/BlogPosting">
    <h1 class="no-margin-top" itemprop="name headline">Javalin 5.0.0 released</h1>
    <div class="subtitle">Javalin 5.0 stable is ready! (<time datetime="2022-10-01T00:00:00+00:00" itemprop="datePublished">Oct 1, 2022</time>)</div>
    
    <div class="post-content" itemprop="articleBody">
        <h2 id="foreword">Foreword</h2>
<p>Javalin is a Java and Kotlin web framework which focuses on simplicity and Java/Kotlin interoperability.
It supports WebSockets and HTTP3, and it uses Virtual Threads (from <a href="https://wiki.openjdk.org/display/loom/Main">Project Loom</a>) by default.
Javalin aims to be very lightweight and has a codebase of around 7000 lines of Java/Kotlin code,
as well as around 10 000 lines of test (629 tests).<br />
The project would not have been possible without the amazingly supportive JVM open-source community.
Javalin has been around for five years now and has 161 contributors and 497 forks.
552 pull requests have been merged and 990 issues have been closed.
The project has had three million downloads in the past 12 months.</p>

<p>I’d like to extend my special thanks to one of our newer contributors, <a href="https://github.com/dzikoysk">@dzikoysk</a>,
who has been very helpful in getting v5 ready. Thank you, your contributions have given me a lot of motivation!</p>

<p><strong>Okay, let’s have a look at Javalin 5!</strong></p>

<h2 id="hello-javalin-world">Hello Javalin World</h2>
<p>Javalin’s main goal is simplicity and developer productivity.
The “Hello World” example reflects that:</p>

<div class="multitab-code" data-tab="1">
<ul>
    <li data-tab="1">Java</li>
    <li data-tab="2">Kotlin</li>
</ul>
<div data-tab="1">
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">var</span> <span class="n">app</span> <span class="o">=</span> <span class="nc">Javalin</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="cm">/*config*/</span><span class="o">)</span>
        <span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"/"</span><span class="o">,</span> <span class="n">ctx</span> <span class="o">-&gt;</span> <span class="n">ctx</span><span class="o">.</span><span class="na">result</span><span class="o">(</span><span class="s">"Hello World"</span><span class="o">))</span>
        <span class="o">.</span><span class="na">start</span><span class="o">(</span><span class="mi">7070</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div>    </div>
  </div>
<div data-tab="2">
    <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">fun</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">val</span> <span class="py">app</span> <span class="p">=</span> <span class="nc">Javalin</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="cm">/*config*/</span><span class="p">)</span>
        <span class="p">.</span><span class="k">get</span><span class="p">(</span><span class="s">"/"</span><span class="p">)</span> <span class="p">{</span> <span class="n">ctx</span> <span class="p">-&gt;</span> <span class="n">ctx</span><span class="p">.</span><span class="nf">result</span><span class="p">(</span><span class="s">"Hello World"</span><span class="p">)</span> <span class="p">}</span>
        <span class="p">.</span><span class="nf">start</span><span class="p">(</span><span class="mi">7070</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>    </div>
  </div>
</div>

<h2 id="sending-data-to-clients">Sending data to clients</h2>
<p>The simplest way to send content to a client is through
<code class="language-plaintext highlighter-rouge">ctx.result("My String")</code>, which sends a <code class="language-plaintext highlighter-rouge">text/plain</code> result.
Javalin has several options for sending responses:</p>

<div class="multitab-code" data-tab="1">
<ul>
    <li data-tab="1">Java</li>
    <li data-tab="2">Kotlin</li>
</ul>
<div data-tab="1">
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ctx</span><span class="o">.</span><span class="na">result</span><span class="o">(</span><span class="n">stringOrStream</span><span class="o">);</span>           <span class="c1">// writes string or input stream to client (`text/plain` by default)</span>
<span class="n">ctx</span><span class="o">.</span><span class="na">json</span><span class="o">(</span><span class="n">myJson</span><span class="o">);</span>                     <span class="c1">// serializes object to JSON string and writes to client (as `application/json`)</span>
<span class="n">ctx</span><span class="o">.</span><span class="na">jsonStream</span><span class="o">(</span><span class="n">myJson</span><span class="o">);</span>               <span class="c1">// serializes JSON directly to client (nothing buffered in memory)</span>
<span class="n">ctx</span><span class="o">.</span><span class="na">writeSeekableStream</span><span class="o">(</span><span class="n">myMediaFile</span><span class="o">);</span> <span class="c1">// stream audio and video to client (supports seeking/skipping)</span>
<span class="n">ctx</span><span class="o">.</span><span class="na">future</span><span class="o">(</span><span class="n">myFutureSupplier</span><span class="o">);</span>         <span class="c1">// instructs Javalin to handle request asynchronously</span>
<span class="n">ctx</span><span class="o">.</span><span class="na">render</span><span class="o">(</span><span class="s">"/file.ext"</span><span class="o">,</span> <span class="n">model</span><span class="o">);</span>       <span class="c1">// render template or markdown file (as `text/html`)</span>
</code></pre></div>    </div>
  </div>
<div data-tab="2">
    <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ctx</span><span class="p">.</span><span class="nf">result</span><span class="p">(</span><span class="n">stringOrStream</span><span class="p">)</span>            <span class="c1">// writes string or input stream to client (`text/plain` by default)</span>
<span class="n">ctx</span><span class="p">.</span><span class="nf">json</span><span class="p">(</span><span class="n">myJson</span><span class="p">)</span>                      <span class="c1">// serializes object to JSON string and writes to client (as `application/json`)</span>
<span class="n">ctx</span><span class="p">.</span><span class="nf">jsonStream</span><span class="p">(</span><span class="n">myJson</span><span class="p">)</span>                <span class="c1">// serializes JSON directly to client (nothing buffered in memory)</span>
<span class="n">ctx</span><span class="p">.</span><span class="nf">writeSeekableStream</span><span class="p">(</span><span class="n">myMediaFile</span><span class="p">)</span>  <span class="c1">// stream audio and video to client (supports seeking/skipping)</span>
<span class="n">ctx</span><span class="p">.</span><span class="nf">future</span><span class="p">(</span><span class="n">myFutureSupplier</span><span class="p">)</span>          <span class="c1">// instructs Javalin to handle request asynchronously</span>
<span class="n">ctx</span><span class="p">.</span><span class="nf">render</span><span class="p">(</span><span class="s">"/file.ext"</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span>        <span class="c1">// render template or markdown file (as `text/html`)</span>
</code></pre></div>    </div>
  </div>
</div>

<h2 id="handling-input-from-clients">Handling input from clients</h2>
<p>Javalin makes it easy to extract and validate client data through dedicated methods:</p>

<div class="multitab-code" data-tab="1">
<ul>
    <li data-tab="1">Java</li>
    <li data-tab="2">Kotlin</li>
</ul>
<div data-tab="1">
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ctx</span><span class="o">.</span><span class="na">body</span><span class="o">();</span>                     <span class="c1">// get the request body as a string (caches the body)</span>
<span class="n">ctx</span><span class="o">.</span><span class="na">formParam</span><span class="o">(</span><span class="s">"name"</span><span class="o">);</span>          <span class="c1">// get a form parameter</span>
<span class="n">ctx</span><span class="o">.</span><span class="na">queryParam</span><span class="o">(</span><span class="s">"name"</span><span class="o">);</span>         <span class="c1">// get a query parameter</span>
<span class="n">ctx</span><span class="o">.</span><span class="na">uploadedFile</span><span class="o">(</span><span class="s">"name"</span><span class="o">);</span>       <span class="c1">// get an uploaded file</span>

<span class="c1">// JSON methods</span>
<span class="n">ctx</span><span class="o">.</span><span class="na">bodyAsClass</span><span class="o">(</span><span class="nc">Clazz</span><span class="o">);</span>         <span class="c1">// deserialize ctx.body() to class</span>
<span class="n">ctx</span><span class="o">.</span><span class="na">bodyStreamAsClass</span><span class="o">(</span><span class="nc">Clazz</span><span class="o">);</span>   <span class="c1">// consume input stream from request body and deserialize to class</span>

<span class="c1">// validation</span>
<span class="kt">var</span> <span class="n">age</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="na">queryParamAsClass</span><span class="o">(</span><span class="s">"age"</span><span class="o">,</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>  <span class="c1">// wraps parameter in Validator</span>
    <span class="o">.</span><span class="na">check</span><span class="o">(</span><span class="n">age</span> <span class="o">-&gt;</span> <span class="n">age</span> <span class="o">&gt;</span> <span class="mi">18</span><span class="o">,</span> <span class="s">"NOT_OLD_ENOUGH"</span><span class="o">)</span> <span class="c1">// adds check with error message</span>
    <span class="o">.</span><span class="na">get</span><span class="o">();</span> <span class="c1">// gets the validated value, or throws ValidationException</span>
<span class="kt">var</span> <span class="n">bananaBox</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="na">bodyValidator</span><span class="o">(</span><span class="nc">BananaBox</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
    <span class="o">.</span><span class="na">check</span><span class="o">(</span><span class="n">box</span> <span class="o">-&gt;</span> <span class="n">box</span><span class="o">.</span><span class="na">weight</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="o">,</span> <span class="nc">ValidationError</span><span class="o">(</span><span class="s">"WEIGHT_TOO_HIGH"</span><span class="o">,</span> <span class="nc">Map</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"MAX_WEIGHT"</span><span class="o">,</span> <span class="mi">5</span><span class="o">)))</span>
    <span class="o">.</span><span class="na">check</span><span class="o">(</span><span class="n">box</span> <span class="o">-&gt;</span> <span class="n">box</span><span class="o">.</span><span class="na">bananas</span><span class="o">.</span><span class="na">length</span> <span class="o">&gt;</span> <span class="mi">20</span><span class="o">,</span> <span class="nc">ValidationError</span><span class="o">(</span><span class="s">"NOT_ENOUGH_BANANAS"</span><span class="o">,</span> <span class="nc">Map</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"MIN_BANANAS"</span><span class="o">,</span> <span class="mi">20</span><span class="o">)))</span>
    <span class="o">.</span><span class="na">getOrDefault</span><span class="o">(</span><span class="n">defaultBananaBox</span><span class="o">)</span> <span class="c1">// uses default if body is null, runs validation rules otherwise</span>
</code></pre></div>    </div>
  </div>
<div data-tab="2">
    <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ctx</span><span class="p">.</span><span class="nf">body</span><span class="p">()</span>                      <span class="c1">// get the request body as a string (caches the body)</span>
<span class="n">ctx</span><span class="p">.</span><span class="nf">formParam</span><span class="p">(</span><span class="s">"name"</span><span class="p">)</span>           <span class="c1">// get a form parameter</span>
<span class="n">ctx</span><span class="p">.</span><span class="nf">queryParam</span><span class="p">(</span><span class="s">"name"</span><span class="p">)</span>          <span class="c1">// get a query parameter</span>
<span class="n">ctx</span><span class="p">.</span><span class="nf">uploadedFile</span><span class="p">(</span><span class="s">"name"</span><span class="p">)</span>        <span class="c1">// get an uploaded file</span>

<span class="c1">// JSON methods</span>
<span class="n">ctx</span><span class="p">.</span><span class="n">bodyAsClass</span><span class="p">&lt;</span><span class="nc">Clazz</span><span class="p">&gt;()</span>        <span class="c1">// deserialize ctx.body() to class</span>
<span class="n">ctx</span><span class="p">.</span><span class="n">bodyStreamAsClass</span><span class="p">&lt;</span><span class="nc">Clazz</span><span class="p">&gt;()</span>  <span class="c1">// consume input stream from request body and deserialize to class</span>

<span class="c1">// validation</span>
<span class="kd">val</span> <span class="py">age</span> <span class="p">=</span> <span class="n">ctx</span><span class="p">.</span><span class="n">queryParamAsClass</span><span class="p">&lt;</span><span class="nc">Int</span><span class="p">&gt;(</span><span class="s">"age"</span><span class="p">)</span>  <span class="c1">// wraps parameter in Validator</span>
    <span class="p">.</span><span class="nf">check</span><span class="p">({</span> <span class="n">it</span> <span class="p">&gt;</span> <span class="mi">18</span> <span class="p">},</span> <span class="s">"NOT_OLD_ENOUGH"</span><span class="p">)</span> <span class="c1">// adds check with error message</span>
    <span class="p">.</span><span class="k">get</span><span class="p">()</span> <span class="c1">// gets the validated value, or throws ValidationException</span>
<span class="kd">val</span> <span class="py">bananaBox</span> <span class="p">=</span> <span class="n">ctx</span><span class="p">.</span><span class="n">bodyValidator</span><span class="p">&lt;</span><span class="nc">BananaBox</span><span class="p">&gt;()</span>
    <span class="p">.</span><span class="nf">check</span><span class="p">({</span> <span class="n">it</span><span class="p">.</span><span class="n">weight</span> <span class="p">&lt;</span> <span class="mi">5</span> <span class="p">},</span> <span class="nc">ValidationError</span><span class="p">(</span><span class="s">"WEIGHT_TOO_HIGH"</span><span class="p">,</span> <span class="nf">mapOf</span><span class="p">(</span><span class="s">"MAX_WEIGHT"</span> <span class="n">to</span> <span class="mi">5</span><span class="p">)))</span>
    <span class="p">.</span><span class="nf">check</span><span class="p">({</span> <span class="n">it</span><span class="p">.</span><span class="n">bananas</span><span class="p">.</span><span class="n">length</span> <span class="p">&gt;</span> <span class="mi">20</span> <span class="p">},</span> <span class="nc">ValidationError</span><span class="p">(</span><span class="s">"NOT_ENOUGH_BANANAS"</span><span class="p">,</span> <span class="nf">mapOf</span><span class="p">(</span><span class="s">"MIN_BANANAS"</span> <span class="n">to</span> <span class="mi">20</span><span class="p">)))</span>
    <span class="p">.</span><span class="nf">getOrDefault</span><span class="p">(</span><span class="n">defaultBananaBox</span><span class="p">)</span> <span class="c1">// uses default if body is null, runs validation rules otherwise</span>
</code></pre></div>    </div>
  </div>
</div>

<h2 id="websockets-and-server-sent-events">WebSockets and Server-Sent Events</h2>
<p>WebSockets and Server-Sent Events are handled with lambdas,
similar to most of Javalin’s other APIs:</p>

<div class="multitab-code" data-tab="1">
<ul>
    <li data-tab="1">Java</li>
    <li data-tab="2">Kotlin</li>
</ul>
<div data-tab="1">
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">app</span><span class="o">.</span><span class="na">ws</span><span class="o">(</span><span class="s">"/websocket/{path}"</span><span class="o">,</span> <span class="n">ws</span> <span class="o">-&gt;</span> <span class="o">{</span>
    <span class="n">ws</span><span class="o">.</span><span class="na">onConnect</span><span class="o">(</span><span class="n">ctx</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connected"</span><span class="o">));</span>
    <span class="n">ws</span><span class="o">.</span><span class="na">onMessage</span><span class="o">(</span><span class="n">ctx</span> <span class="o">-&gt;</span> <span class="o">{</span>
        <span class="nc">User</span> <span class="n">user</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="na">messageAsClass</span><span class="o">(</span><span class="nc">User</span><span class="o">.</span><span class="na">class</span><span class="o">);</span> <span class="c1">// convert from json</span>
        <span class="n">ctx</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">user</span><span class="o">);</span> <span class="c1">// convert to json and send back</span>
    <span class="o">});</span>
    <span class="n">ws</span><span class="o">.</span><span class="na">onBinaryMessage</span><span class="o">(</span><span class="n">ctx</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Message"</span><span class="o">))</span>
    <span class="n">ws</span><span class="o">.</span><span class="na">onClose</span><span class="o">(</span><span class="n">ctx</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Closed"</span><span class="o">));</span>
    <span class="n">ws</span><span class="o">.</span><span class="na">onError</span><span class="o">(</span><span class="n">ctx</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Errored"</span><span class="o">));</span>
<span class="o">});</span>

<span class="n">app</span><span class="o">.</span><span class="na">sse</span><span class="o">(</span><span class="s">"/sse"</span><span class="o">,</span> <span class="n">client</span> <span class="o">-&gt;</span>
    <span class="n">client</span><span class="o">.</span><span class="na">sendEvent</span><span class="o">(</span><span class="s">"connected"</span><span class="o">,</span> <span class="s">"Hello, SSE"</span><span class="o">);</span>  <span class="c1">// can also send an object, which will be serialized</span>
    <span class="n">client</span><span class="o">.</span><span class="na">onClose</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Client disconnected"</span><span class="o">));</span>
<span class="o">});</span>
</code></pre></div>    </div>
  </div>
<div data-tab="2">
    <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">app</span><span class="p">.</span><span class="nf">ws</span><span class="p">(</span><span class="s">"/websocket/{path}"</span><span class="p">)</span> <span class="p">{</span> <span class="n">ws</span> <span class="p">-&gt;</span>
    <span class="n">ws</span><span class="p">.</span><span class="nf">onConnect</span> <span class="p">{</span> <span class="n">ctx</span> <span class="p">-&gt;</span> <span class="nf">println</span><span class="p">(</span><span class="s">"Connected"</span><span class="p">)</span> <span class="p">}</span>
    <span class="n">ws</span><span class="p">.</span><span class="nf">onMessage</span> <span class="p">{</span> <span class="n">ctx</span> <span class="p">-&gt;</span>
        <span class="kd">val</span> <span class="py">user</span> <span class="p">=</span> <span class="n">ctx</span><span class="p">.</span><span class="n">messageAsClass</span><span class="p">&lt;</span><span class="nc">User</span><span class="p">&gt;();</span> <span class="c1">// convert from json</span>
        <span class="n">ctx</span><span class="p">.</span><span class="nf">send</span><span class="p">(</span><span class="n">user</span><span class="p">);</span> <span class="c1">// convert to json and send back</span>
    <span class="p">}</span>
    <span class="n">ws</span><span class="p">.</span><span class="nf">onBinaryMessage</span> <span class="p">{</span> <span class="n">ctx</span> <span class="p">-&gt;</span> <span class="nf">println</span><span class="p">(</span><span class="s">"Message"</span><span class="p">)</span> <span class="p">}</span>
    <span class="n">ws</span><span class="p">.</span><span class="nf">onClose</span> <span class="p">{</span> <span class="n">ctx</span> <span class="p">-&gt;</span> <span class="nf">println</span><span class="p">(</span><span class="s">"Closed"</span><span class="p">)</span> <span class="p">}</span>
    <span class="n">ws</span><span class="p">.</span><span class="nf">onError</span> <span class="p">{</span> <span class="n">ctx</span> <span class="p">-&gt;</span> <span class="nf">println</span><span class="p">(</span><span class="s">"Errored"</span><span class="p">)</span> <span class="p">}</span>
<span class="p">}</span>

<span class="n">app</span><span class="p">.</span><span class="nf">sse</span><span class="p">(</span><span class="s">"/sse"</span><span class="p">)</span> <span class="p">{</span> <span class="n">client</span> <span class="p">-&gt;</span>
    <span class="n">client</span><span class="p">.</span><span class="nf">sendEvent</span><span class="p">(</span><span class="s">"connected"</span><span class="p">,</span> <span class="s">"Hello, SSE"</span><span class="p">)</span> <span class="c1">// can also send an object, which will be serialized</span>
    <span class="n">client</span><span class="p">.</span><span class="nf">onClose</span> <span class="p">{</span> <span class="nf">println</span><span class="p">(</span><span class="s">"Client disconnected"</span><span class="p">)</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>    </div>
  </div>
</div>

<h2 id="routing-and-request-lifecycle">Routing and request lifecycle</h2>
<p>Routing in Javalin can either happen directly on the <code class="language-plaintext highlighter-rouge">Javalin</code> instance (usually named <code class="language-plaintext highlighter-rouge">app</code>),
or through a set of util-methods which improves readability. Please note that these util-method
do not hold any global state, but function as normal util-methods (<code class="language-plaintext highlighter-rouge">Util.method(app, ...)</code>) with a fancy syntax.</p>

<div class="multitab-code" data-tab="1">
<ul>
    <li data-tab="1">Java</li>
    <li data-tab="2">Kotlin</li>
</ul>
<div data-tab="1">
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">static</span> <span class="n">io</span><span class="o">.</span><span class="na">javalin</span><span class="o">.</span><span class="na">apibuilder</span><span class="o">.</span><span class="na">ApiBuilder</span><span class="o">.*</span>
<span class="o">...</span>
<span class="n">app</span><span class="o">.</span><span class="na">routes</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="o">{</span>
    <span class="n">before</span><span class="o">(</span><span class="nl">GlobalController:</span><span class="o">:</span><span class="n">globalAction</span><span class="o">)</span>               <span class="c1">// handler that runs for every request to the app</span>
    <span class="n">path</span><span class="o">(</span><span class="s">"users"</span><span class="o">,</span> <span class="o">()</span> <span class="o">-&gt;</span> <span class="o">{</span>                                <span class="c1">// push subpath /users on the router</span>
        <span class="n">get</span><span class="o">(</span><span class="nl">UserController:</span><span class="o">:</span><span class="n">getAll</span><span class="o">);</span>                     <span class="c1">// get controller for /users/</span>
        <span class="n">post</span><span class="o">(</span><span class="nl">UserController:</span><span class="o">:</span><span class="n">create</span><span class="o">);</span>                    <span class="c1">// post controller for /users/</span>
        <span class="n">before</span><span class="o">(</span><span class="s">"{userId}*"</span><span class="o">,</span> <span class="nl">UserController:</span><span class="n">userIdCheck</span><span class="o">);</span> <span class="c1">// handler that runs for every request to /users/{userId} as well as al subpaths</span>
        <span class="n">path</span><span class="o">(</span><span class="s">"{userId}"</span><span class="o">,</span> <span class="o">(()</span> <span class="o">-&gt;</span> <span class="o">{</span>                        <span class="c1">// new subpath /{userId} on the router</span>
            <span class="n">get</span><span class="o">(</span><span class="nl">UserController:</span><span class="o">:</span><span class="n">getOne</span><span class="o">);</span>                 <span class="c1">// get controller for /users/{userId}</span>
            <span class="n">patch</span><span class="o">(</span><span class="nl">UserController:</span><span class="o">:</span><span class="n">update</span><span class="o">);</span>               <span class="c1">// patch controller for /users/{userId}</span>
            <span class="n">path</span><span class="o">(</span><span class="s">"subpath"</span><span class="o">,</span> <span class="o">(()</span> <span class="o">-&gt;</span> <span class="o">{</span> <span class="o">...</span> <span class="o">});</span>             <span class="c1">// push subpath /subpath on the router (and pop it immediately)</span>
        <span class="o">});</span>                                              <span class="c1">// pop subpath /{userId} on the router</span>
        <span class="n">ws</span><span class="o">(</span><span class="s">"events"</span><span class="o">,</span> <span class="nl">UserController:</span><span class="o">:</span><span class="n">webSocketEvents</span><span class="o">);</span>   <span class="c1">// websocket controller for /users/events</span>
    <span class="o">});</span>                                                  <span class="c1">// pop subpath /users on the router</span>
<span class="o">}).</span><span class="na">start</span><span class="o">(</span><span class="n">port</span><span class="o">);</span>
</code></pre></div>    </div>
  </div>
<div data-tab="2">
    <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">static</span> <span class="n">io</span><span class="p">.</span><span class="n">javalin</span><span class="p">.</span><span class="n">apibuilder</span><span class="p">.</span><span class="nc">ApiBuilder</span><span class="p">.*</span>
<span class="o">..</span><span class="p">.</span>
<span class="n">app</span><span class="p">.</span><span class="nf">routes</span> <span class="p">{</span>
    <span class="nf">before</span><span class="p">(</span><span class="nc">GlobalController</span><span class="o">::</span><span class="n">globalAction</span><span class="p">)</span>               <span class="c1">// handler that runs for every request to the app</span>
    <span class="nf">path</span><span class="p">(</span><span class="s">"users"</span><span class="p">)</span> <span class="p">{</span>                                      <span class="c1">// push subpath /users on the router</span>
        <span class="k">get</span><span class="p">(</span><span class="nc">UserController</span><span class="o">::</span><span class="n">getAll</span><span class="p">)</span>                      <span class="c1">// get controller for /users/</span>
        <span class="nf">post</span><span class="p">(</span><span class="nc">UserController</span><span class="o">::</span><span class="n">create</span><span class="p">)</span>                     <span class="c1">// post controller for /users/</span>
        <span class="nf">before</span><span class="p">(</span><span class="s">"{userId}*"</span><span class="p">,</span> <span class="nc">UserController</span><span class="p">:</span><span class="n">userIdCheck</span><span class="p">)</span>  <span class="c1">// handler that runs for every request to /users/{userId} as well as al subpaths</span>
        <span class="nf">path</span><span class="p">(</span><span class="s">"{userId}"</span><span class="p">)</span> <span class="p">{</span>                               <span class="c1">// new subpath /{userId} on the router</span>
            <span class="k">get</span><span class="p">(</span><span class="nc">UserController</span><span class="o">::</span><span class="n">getOne</span><span class="p">)</span>                  <span class="c1">// get controller for /users/{userId}</span>
            <span class="nf">patch</span><span class="p">(</span><span class="nc">UserController</span><span class="o">::</span><span class="n">update</span><span class="p">)</span>                <span class="c1">// patch controller for /users/{userId}</span>
            <span class="nf">path</span><span class="p">(</span><span class="s">"subpath"</span><span class="p">)</span> <span class="p">{</span> <span class="o">..</span><span class="p">.</span> <span class="p">}</span>                      <span class="c1">// push subpath /subpath on the router (and pop it immediately)</span>
        <span class="p">}</span>                                                <span class="c1">// pop subpath /{userId} on the router</span>
        <span class="nf">ws</span><span class="p">(</span><span class="s">"events"</span><span class="p">,</span> <span class="nc">UserController</span><span class="o">::</span><span class="n">webSocketEvents</span><span class="p">)</span>    <span class="c1">// websocket controller for /users/events</span>
    <span class="p">}</span>                                                    <span class="c1">// pop subpath /users on the router</span>
<span class="p">}.</span><span class="nf">start</span><span class="p">(</span><span class="n">port</span><span class="p">)</span>
</code></pre></div>    </div>
  </div>
</div>

<h3 id="request-lifecycle">Request lifecycle</h3>
<p>The Javalin request lifecycle is pretty straightforward.
The following snippet covers every place you can hook into:</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Javalin</span><span class="err">#</span><span class="n">before</span>              <span class="c1">// runs first, can throw exception (which will skip any endpoint handlers)</span>
<span class="nc">Config</span><span class="err">#</span><span class="n">accessManager</span>        <span class="c1">// can be configured to run before endpoints (get/post/patch/etc)</span>
<span class="nc">Javalin</span><span class="err">#</span><span class="n">get</span><span class="o">/</span><span class="n">post</span><span class="o">/</span><span class="n">patch</span><span class="o">/</span><span class="n">etc</span>  <span class="c1">// runs second, can throw exception</span>
<span class="nc">Javalin</span><span class="err">#</span><span class="n">after</span>               <span class="c1">// runs third, can throw exception</span>
<span class="nc">Javalin</span><span class="err">#</span><span class="n">error</span>               <span class="c1">// runs fourth, can throw exception</span>
<span class="nc">Javalin</span><span class="err">#</span><span class="n">exception</span>           <span class="c1">// runs any time a handler throws (cannot throw exception)</span>
<span class="nc">Config</span><span class="err">#</span><span class="n">requestLogger</span>        <span class="c1">// runs after response is written to client</span>
</code></pre></div></div>

<h2 id="configuring-javalin">Configuring Javalin</h2>
<p>To configure Javalin, you can adjust the <code class="language-plaintext highlighter-rouge">JavalinConfig</code> using a <code class="language-plaintext highlighter-rouge">Consumer</code> in the <code class="language-plaintext highlighter-rouge">Javalin#create</code> method:</p>

<div class="multitab-code" data-tab="1">
<ul>
    <li data-tab="1">Java</li>
    <li data-tab="2">Kotlin</li>
</ul>
<div data-tab="1">
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">var</span> <span class="n">app</span> <span class="o">=</span> <span class="nc">Javalin</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">config</span> <span class="o">-&gt;</span> <span class="o">{</span>
    <span class="n">config</span><span class="o">.</span><span class="na">http</span><span class="o">.</span><span class="na">generateEtags</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
    <span class="n">config</span><span class="o">.</span><span class="na">http</span><span class="o">.</span><span class="na">asyncTimeout</span> <span class="o">=</span> <span class="mi">10_000L</span><span class="o">;</span>
    <span class="n">config</span><span class="o">.</span><span class="na">routing</span><span class="o">.</span><span class="na">ignoreTrailingSlashes</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
    <span class="n">config</span><span class="o">.</span><span class="na">staticFiles</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"/public"</span><span class="o">,</span> <span class="nc">Location</span><span class="o">.</span><span class="na">CLASSPATH</span><span class="o">);</span>
<span class="o">});</span>
</code></pre></div>    </div>
  </div>
<div data-tab="2">
    <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">val</span> <span class="py">app</span> <span class="p">=</span> <span class="nc">Javalin</span><span class="p">.</span><span class="nf">create</span> <span class="p">{</span> <span class="n">config</span> <span class="p">-&gt;</span>
    <span class="n">config</span><span class="p">.</span><span class="n">http</span><span class="p">.</span><span class="n">generateEtags</span> <span class="p">=</span> <span class="k">true</span>
    <span class="n">config</span><span class="p">.</span><span class="n">http</span><span class="p">.</span><span class="n">asyncTimeout</span> <span class="p">=</span> <span class="mi">10_000L</span>
    <span class="n">config</span><span class="p">.</span><span class="n">routing</span><span class="p">.</span><span class="n">ignoreTrailingSlashes</span> <span class="p">=</span> <span class="k">true</span>
    <span class="n">config</span><span class="p">.</span><span class="n">staticFiles</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="s">"/public"</span><span class="p">,</span> <span class="nc">Location</span><span class="p">.</span><span class="nc">CLASSPATH</span><span class="p">)</span>
<span class="p">};</span>
</code></pre></div>    </div>
  </div>
</div>

<h2 id="configuring-jetty">Configuring Jetty</h2>
<p>Javalin is built on top of <a href="https://www.eclipse.org/jetty/">Jetty</a>, and unlike many other web frameworks
it doesn’t try to make this a loose coupling. This gives you access to many nice features that
are only available in Jetty:</p>

<div class="multitab-code" data-tab="1">
<ul>
    <li data-tab="1">Java</li>
    <li data-tab="2">Kotlin</li>
</ul>
<div data-tab="1">
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">var</span> <span class="n">app</span> <span class="o">=</span> <span class="nc">Javalin</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">config</span> <span class="o">-&gt;</span> <span class="o">{</span>
    <span class="n">config</span><span class="o">.</span><span class="na">jetty</span><span class="o">.</span><span class="na">server</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="nc">Server</span><span class="o">());</span>                 <span class="c1">// set the Jetty Server</span>
    <span class="n">config</span><span class="o">.</span><span class="na">jetty</span><span class="o">.</span><span class="na">sessionHandler</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="nc">SessionHandler</span><span class="o">());</span> <span class="c1">// set the Jetty SessionHandler</span>
    <span class="n">config</span><span class="o">.</span><span class="na">jetty</span><span class="o">.</span><span class="na">contextHandlerConfig</span><span class="o">(</span><span class="n">handler</span> <span class="o">-&gt;</span> <span class="o">{});</span>    <span class="c1">// configure the Jetty ServletContextHandler</span>
    <span class="n">config</span><span class="o">.</span><span class="na">jetty</span><span class="o">.</span><span class="na">wsFactoryConfig</span><span class="o">((</span><span class="n">factory</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{});</span>       <span class="c1">// configure the Jetty WebSocketServletFactory</span>
<span class="o">});</span>
</code></pre></div>    </div>
  </div>
<div data-tab="2">
    <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">val</span> <span class="py">app</span> <span class="p">=</span> <span class="nc">Javalin</span><span class="p">.</span><span class="nf">create</span> <span class="p">{</span> <span class="n">config</span> <span class="p">-&gt;</span>
    <span class="n">config</span><span class="p">.</span><span class="n">jetty</span><span class="p">.</span><span class="nf">server</span> <span class="p">{</span> <span class="nc">Server</span><span class="p">()</span> <span class="p">}</span>                 <span class="c1">// set the Jetty Server</span>
    <span class="n">config</span><span class="p">.</span><span class="n">jetty</span><span class="p">.</span><span class="nf">sessionHandler</span> <span class="p">{</span> <span class="nc">SessionHandler</span><span class="p">()</span> <span class="p">}</span> <span class="c1">// set the Jetty SessionHandler</span>
    <span class="n">config</span><span class="p">.</span><span class="n">jetty</span><span class="p">.</span><span class="nf">contextHandlerConfig</span> <span class="p">{</span> <span class="n">handler</span> <span class="p">-&gt;</span> <span class="p">}</span> <span class="c1">// configure the Jetty ServletContextHandler</span>
    <span class="n">config</span><span class="p">.</span><span class="n">jetty</span><span class="p">.</span><span class="nf">wsFactoryConfig</span> <span class="p">{</span> <span class="n">factory</span> <span class="p">-&gt;</span> <span class="p">}</span>      <span class="c1">// configure the Jetty WebSocketServletFactory</span>
<span class="p">}</span>
</code></pre></div>    </div>
  </div>
</div>

<p>Session handling is a particularly useful Jetty feature, as can be seen in
<a href="/tutorials/jetty-session-handling">/tutorials/jetty-session-handling</a>.</p>

<h2 id="plugins">Plugins</h2>
<p>There are many third-party open-source plugins available for Javalin, and as of Javalin 5
we’re launching a plugin “marketplace” on <a href="/plugins">javalin.io/plugins</a>.</p>

<h3 id="openapi-support">OpenAPI support</h3>
<p>One of the most popular Javalin plugins is its OpenAPI integration:</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@OpenApi</span><span class="p">(</span>
    <span class="n">path</span> <span class="p">=</span> <span class="s">"/api/v1/users"</span><span class="p">,</span>
    <span class="n">methods</span> <span class="p">=</span> <span class="p">[</span><span class="nc">HttpMethod</span><span class="p">.</span><span class="nc">POST</span><span class="p">],</span>
    <span class="n">summary</span> <span class="p">=</span> <span class="s">"Register a user"</span><span class="p">,</span>
    <span class="n">tags</span> <span class="p">=</span> <span class="p">[</span><span class="s">"Users"</span><span class="p">],</span>
    <span class="n">requestBody</span> <span class="p">=</span> <span class="nc">OpenApiRequestBody</span><span class="p">(</span>
        <span class="n">content</span> <span class="p">=</span> <span class="p">[</span><span class="nc">OpenApiContent</span><span class="p">(</span><span class="nc">RegistrationRequest</span><span class="o">::</span><span class="k">class</span><span class="p">)],</span>
        <span class="n">required</span> <span class="p">=</span> <span class="k">true</span><span class="p">,</span>
        <span class="n">description</span> <span class="p">=</span> <span class="s">"Data about the user"</span>
    <span class="p">),</span>
    <span class="n">responses</span> <span class="p">=</span> <span class="p">[</span>
        <span class="nc">OpenApiResponse</span><span class="p">(</span><span class="n">status</span> <span class="p">=</span> <span class="s">"200"</span><span class="p">,</span> <span class="o">..</span><span class="p">.),</span>
        <span class="nc">OpenApiResponse</span><span class="p">(</span><span class="n">status</span> <span class="p">=</span> <span class="s">"401"</span><span class="p">,</span> <span class="o">..</span><span class="p">.),</span>
    <span class="p">]</span>
<span class="p">)</span>
<span class="k">fun</span> <span class="nf">register</span><span class="p">(</span><span class="n">context</span><span class="p">:</span> <span class="nc">Context</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handler code goes here</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="whats-changed-since-javalin-4">What’s changed since Javalin 4</h2>
<p>The biggest change is that Javalin no longer works with Java 8.
We have moved to Jetty 11, which requires Java 11. We’ve also restructured a bit,
reworked configuration and futures,  split out some of the modules into
separate Maven artifacts, and fixed one or two bugs.</p>

<p>You can read more in the migration guide: <a href="/migration-guide-javalin-4-to-5">/migration-guide-javalin-4-to-5</a>.</p>

<h3 id="get-involved">Get involved</h3>
<p>If you want to contribute to the project, please head over to
<a href="https://github.com/tipsy/javalin">GitHub</a> or <a href="https://discord.com/invite/sgak4e5NKv">Discord</a>.</p>

<p>If you want to stay up to date, please follow us on <a href="https://twitter.com/javalin_io">Twitter</a>.</p>

    </div>
</article>
<style>
    .social {
        margin: 30px 0;
        display: flex;
    }
    .social-btn {
        text-align: center;
        min-width: 240px;
        padding: 10px 16px 8px;
        font-size: 14px;
        font-family: 'Roboto Slab', sans-serif;
        font-weight: 600;
        color: #fff;
        background: #000;
        border-radius: 50px;
        box-shadow: 2px 2px red, -2px -2px cyan;
    }
    .social-btn + .social-btn {
        margin-left: 24px;
    }
    .social-btn:hover {
        background: #008ab4;
    }
    .social-btn img {
        width: 24px;
        display: inline;
        vertical-align: middle;
        margin-right: 12px;
    }
    @media (max-width: 480px) {
        .social {
            justify-content: space-between;
        }
        .social-btn {
            min-width: 0;
            width: calc(50% - 12px);
            text-align: left;
            display: flex;
            align-items: center;
        }
        .social-btn + .social-btn {
            margin-left: 0;
        }
    }
</style>
<div class="social">
    <a class="social-btn" href="https://twitter.com/intent/tweet?text=Javalin 5.0 stable is ready!&url=https://zugazagoitia.github.io/news/javalin-5.0.0-stable.html&via=javalin_io&related=javalin_io"
       rel="nofollow"
       title="Share on Twitter">
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAM1BMVEUAAAD///////////////////////////////////////////////////////////////+3leKCAAAAEHRSTlMA8BDQwKCAMOBwYECwUCCQ27fl2AAAAW1JREFUWMPtltuOwyAMRLG5QxL8/1+7G6lKFApMaJ5W2/NIPCPAnlL15R+xRSM7ZPMnci5yYvxrNRt3VMRtpPdBLqR9MWkhPkpI80BPUpFy2dfiUbKK9B02kjbmrCkycNAdfeCqpuOQOnrye2teRS9LrxqEjn4tQSS/io7Fxg1Kn/MWjxX7dgw30NvGNkO9CQP1O8v7oGEDq07i9Uu+YxAvs1J91GmDBtdQLVKjYz6/YINNWujiVgsMet3CqAr7yICKn3XQF4N9gizJDAsIDMSBLkIyyDzkmjqmWb0GoYUUBVKLWFUF6yk9gccDYtU7bKabWBNv9yKoDunmTcSW2Im+uwNi1cBP5+DjUSAGrzgiVcLZSBmlHjnQBv7L4AOMYEdwiAGcFgK/A5BN9/WsMCs90nsjT/SrGd0fI3UJIIIdovtlAUnWftA5KwiKakg2Y7ljfPn9tzWkUw5GsHV059UEOVpDR2wXl1l9+RP8AHA4c7ljId3mAAAAAElFTkSuQmCC">Share on Twitter
    </a>
    <a class="social-btn" href="https://facebook.com/sharer.php?u=https://zugazagoitia.github.io/news/javalin-5.0.0-stable.html"
       rel="nofollow"
       title="Share on Facebook">
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABABAMAAABYR2ztAAAAMFBMVEUAAAD///////////////////////////////////////////////////////////87TQQwAAAAD3RSTlMAwIDwEEDgMKBgINBwUJA4su2wAAAAy0lEQVRIx2MYJICr+T9WkOQAVTD/Pw5gDpHn/I8TXAAriMetwAqsQB63gh9gBf/xgAFT8E0QCPJxK/ixACTqj1PB5wCwKD9OBbsY8Cv4XEBAwU8GAgoECCmYABTB5QuEUI2S0n4cCn6DRBzxhORHkMh5Qgr0h7eCjw6I/BiPTcEnBgRgxKbgK5ICPkIKmGij4C+yIwn5gg2bgm9ICuIHa2SNKqCZgs9gBf2YClBTkDNuBSlgBeyYCtDKzGJcCtKhyY+lH7sCIweGwQEAY2jNUu1+zZgAAAAASUVORK5CYII=">Share on Facebook
    </a>
</div>


    </main>
    <footer>
        Javalin is a Java and Kotlin web framework, open sourced under the
        <a href="https://tldrlegal.com/license/apache-license-2.0-(apache-2.0)">Apache 2</a> license
        | <a href="/download">Download</a>
        | <a href="/about">About</a>
        | <a href="/news">News</a>
        | <a href="/about#contact">Contact</a>
        | <a href="/for-educators">For educators</a>
    </footer>
    <div id="star-begging">
    <style>
        #star-begging {
            transition: transform .25s;
            transform: scale(0);
            border-radius: 8px;
            position: fixed;
            bottom: 32px;
            right: 32px;
            padding: 20px 40px 16px 20px;
            background: #fff;
            box-shadow: 0 1px 20px rgba(0, 0, 0, 0.15);
            z-index: 9999998;
        }
        #star-begging.in {
            transform: scale(1);
        }
        #star-begging.out {
            transform: translateX(400px);
        }
        #star-begging p {
            font-size: 16px;
            margin: 0 0 15px;
        }
        #star-begging .close {
            position: absolute;
            right: 20px;
            top: 20px;
            height: 40px;
            width: 40px;
            line-height: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            font-family: arial, sans-serif;
            cursor: pointer;
            background: rgba(0, 0, 0, 0.05);
            border-radius: 5px;
        }
    </style>
    <p>
        Like Javalin?
        <br>Star us 😊
    </p>
    <span class="close">×</span>
    <iframe id="starFrame" class="githubStar" title="github-stars"
            src="https://ghbtns.com/github-btn.html?user=javalin&amp;repo=javalin&amp;type=star&amp;count=true&size=large"
            frameborder="0" scrolling="0" width="150px" height="30px">
    </iframe>
    <script>
        if (localStorage.getItem("dismissed") !== "true" && document.getElementById("notification-banner") === null) {
            setTimeout(function () {
                document.querySelector("#star-begging").classList.add("in");
            }, 15000);
            document.querySelector("#star-begging .close").addEventListener("click", function () {
                document.querySelector("#star-begging").classList.add("out");
                localStorage.setItem("dismissed", "true");
            });
        }
    </script>
</div>

    <script src="/js/scripts.js"></script>
</body>
</html>
